var sourceData24 = {"FileName":"/Users/asimms/Desktop/Programming/mhkit_matlab_simms_dev/MHKiT-MATLAB-2/mhkit/dolfyn/rotate/rotate2.m","RawFileContents":["function ds = rotate2(data_set, out_frame)","    % Rotate a dataset to a new coordinate system.","    %","    % Parameters","    % ----------","    % ds : xr.Dataset","    %   The dolfyn dataset (ADV or ADCP) to rotate.","    % out_frame : string {'beam', 'inst', 'earth', 'principal'}","    %   The coordinate system to rotate the data into.","    %","    % Returns","    % -------","    % ds : xarray.Dataset","    %   The rotated dataset","    %","    % Notes","    % -----","    % This function rotates all variables in ds.attrs.rotate_vars","","    % The 'rotation chain'","    rc = {'beam', 'inst', 'earth', 'principal'};","    rot_module_dict = {'vector', 'awac', 'signature', 'ad2cp', 'rdi'};","","    csin = lower(data_set.coord_sys);","    if strcmp(csin,'ship')","        csin = 'inst';","    end","","    r_vec = true;","    if ~isfield(data_set,'inst2head_rotmat')","        r_vec = false;","    end","    if r_vec && ~ data_set.attrs.inst2head_rotmat_was_set","        msgtext = ['The inst2head rotation matrix exists in props, '...","            'but it was not set using `set_inst2head_rotmat.'];","        ME = MException('MATLAB:dolfyn:rotate:rotate2'...","            ,msgtext);","        throwAsCaller(ME)","    end","    if r_vec && det(data_set.inst2head_rotmat.data) ~= 1","        msgtext = ['Invalid inst2head_rotmat (determinant != 1).'];","        ME = MException('MATLAB:dolfyn:rotate:rotate2'...","            ,msgtext);","        throwAsCaller(ME)","    end","","    if strcmp(out_frame,'principal') && ~strcmp(csin,'earth')","        warning([\"You are attempting to rotate into the 'principal'\"...","            \" coordinate system, but the dataset is in the %s \" ...","            \"coordinate system. Be sure that 'principal_angle' is \" ...","            \"defined based on the earth coordinate system.\"], csin);","    end","","    rmod = '';","    make_model = lower(join([data_set.attrs.inst_make,' ',...","        data_set.attrs.inst_model]));","    for qq = 1:numel(rot_module_dict)","        ky = rot_module_dict{qq};","        if (contains(make_model,ky))","            rmod = ky;","            break;","        end","    end","    if strcmp(rmod,'')","        msgtext = ['Rotations are not defined for instrument %s',...","            make_model];","        ME = MException('MATLAB:dolfyn:rotate:rotate2'...","            ,msgtext);","        throwAsCaller(ME)","    end","","    % Get the 'indices' of the rotation chain","    iframe_in = find(strcmp(rc,csin));","    iframe_out = find(strcmpi(rc,out_frame));","","    if isempty(iframe_in)","        msgtext = ['The coordinate system of the input dataset, %s'...","            ', is invalid.',data_set.coord_sys];","        ME = MException('MATLAB:dolfyn:rotate:rotate2'...","            ,msgtext);","        throwAsCaller(ME)","    end","    if isempty(iframe_out)","        msgtext = [\"The specified output coordinate system is \"...","            \"invalid, please select one of: 'beam', 'inst', \"...","            \"'earth', 'principal'.\"];","        ME = MException('MATLAB:dolfyn:rotate:rotate2'...","            ,msgtext);","        throwAsCaller(ME)","    end","","    if iframe_out == iframe_in","        fprintf('Data is already in the %s coordinate system', out_frame)","        ds = data_set;","        return;","    end","","    if iframe_out > iframe_in","        reverse = false;","    else","        reverse = true;","    end","","    while ~strcmpi(data_set.coord_sys, out_frame)","        csin = lower(data_set.coord_sys);","        if strcmp(csin,'ship')","            csin = 'inst';","        end","        inow = find(strcmp(rc,csin));","        if reverse","            func = join([rc(inow-1),'2',rc(inow)],'');","        else","            func = join([rc(inow),'2',rc(inow+1)],'');","        end","        try","            data_set = feval(func{1}, data_set, reverse, rmod);","        catch","            data_set = feval(func{1}, data_set, reverse);","        end","    end","    ds = data_set;","end","",""],"CoverageDisplayDataPerLine":{"Function":{"LineNumber":1,"Hits":48,"StartColumnNumbers":0,"EndColumnNumbers":42,"ContinuedLine":false},"Statement":[{"LineNumber":21,"Hits":48,"StartColumnNumbers":4,"EndColumnNumbers":48,"ContinuedLine":false},{"LineNumber":22,"Hits":48,"StartColumnNumbers":4,"EndColumnNumbers":70,"ContinuedLine":false},{"LineNumber":24,"Hits":48,"StartColumnNumbers":4,"EndColumnNumbers":37,"ContinuedLine":false},{"LineNumber":25,"Hits":48,"StartColumnNumbers":4,"EndColumnNumbers":26,"ContinuedLine":false},{"LineNumber":26,"Hits":1,"StartColumnNumbers":8,"EndColumnNumbers":22,"ContinuedLine":false},{"LineNumber":29,"Hits":48,"StartColumnNumbers":4,"EndColumnNumbers":17,"ContinuedLine":false},{"LineNumber":30,"Hits":48,"StartColumnNumbers":4,"EndColumnNumbers":44,"ContinuedLine":false},{"LineNumber":31,"Hits":43,"StartColumnNumbers":8,"EndColumnNumbers":22,"ContinuedLine":false},{"LineNumber":33,"Hits":48,"StartColumnNumbers":4,"EndColumnNumbers":57,"ContinuedLine":false},{"LineNumber":34,"Hits":0,"StartColumnNumbers":8,"EndColumnNumbers":68,"ContinuedLine":false},{"LineNumber":35,"Hits":0,"StartColumnNumbers":12,"EndColumnNumbers":63,"ContinuedLine":true},{"LineNumber":36,"Hits":0,"StartColumnNumbers":8,"EndColumnNumbers":54,"ContinuedLine":false},{"LineNumber":37,"Hits":0,"StartColumnNumbers":13,"EndColumnNumbers":22,"ContinuedLine":true},{"LineNumber":38,"Hits":0,"StartColumnNumbers":8,"EndColumnNumbers":25,"ContinuedLine":false},{"LineNumber":40,"Hits":48,"StartColumnNumbers":4,"EndColumnNumbers":56,"ContinuedLine":false},{"LineNumber":41,"Hits":0,"StartColumnNumbers":8,"EndColumnNumbers":67,"ContinuedLine":false},{"LineNumber":42,"Hits":0,"StartColumnNumbers":8,"EndColumnNumbers":54,"ContinuedLine":false},{"LineNumber":43,"Hits":0,"StartColumnNumbers":13,"EndColumnNumbers":22,"ContinuedLine":true},{"LineNumber":44,"Hits":0,"StartColumnNumbers":8,"EndColumnNumbers":25,"ContinuedLine":false},{"LineNumber":47,"Hits":48,"StartColumnNumbers":4,"EndColumnNumbers":61,"ContinuedLine":false},{"LineNumber":48,"Hits":0,"StartColumnNumbers":8,"EndColumnNumbers":68,"ContinuedLine":false},{"LineNumber":49,"Hits":0,"StartColumnNumbers":12,"EndColumnNumbers":63,"ContinuedLine":true},{"LineNumber":50,"Hits":0,"StartColumnNumbers":12,"EndColumnNumbers":67,"ContinuedLine":true},{"LineNumber":51,"Hits":0,"StartColumnNumbers":12,"EndColumnNumbers":68,"ContinuedLine":true},{"LineNumber":54,"Hits":48,"StartColumnNumbers":4,"EndColumnNumbers":14,"ContinuedLine":false},{"LineNumber":55,"Hits":48,"StartColumnNumbers":4,"EndColumnNumbers":57,"ContinuedLine":false},{"LineNumber":56,"Hits":48,"StartColumnNumbers":8,"EndColumnNumbers":37,"ContinuedLine":true},{"LineNumber":57,"Hits":48,"StartColumnNumbers":4,"EndColumnNumbers":37,"ContinuedLine":false},{"LineNumber":58,"Hits":120,"StartColumnNumbers":8,"EndColumnNumbers":33,"ContinuedLine":false},{"LineNumber":59,"Hits":120,"StartColumnNumbers":8,"EndColumnNumbers":36,"ContinuedLine":false},{"LineNumber":60,"Hits":48,"StartColumnNumbers":12,"EndColumnNumbers":22,"ContinuedLine":false},{"LineNumber":61,"Hits":48,"StartColumnNumbers":12,"EndColumnNumbers":18,"ContinuedLine":false},{"LineNumber":64,"Hits":48,"StartColumnNumbers":4,"EndColumnNumbers":22,"ContinuedLine":false},{"LineNumber":65,"Hits":0,"StartColumnNumbers":8,"EndColumnNumbers":64,"ContinuedLine":false},{"LineNumber":66,"Hits":0,"StartColumnNumbers":12,"EndColumnNumbers":24,"ContinuedLine":true},{"LineNumber":67,"Hits":0,"StartColumnNumbers":8,"EndColumnNumbers":54,"ContinuedLine":false},{"LineNumber":68,"Hits":0,"StartColumnNumbers":13,"EndColumnNumbers":22,"ContinuedLine":true},{"LineNumber":69,"Hits":0,"StartColumnNumbers":8,"EndColumnNumbers":25,"ContinuedLine":false},{"LineNumber":73,"Hits":48,"StartColumnNumbers":4,"EndColumnNumbers":38,"ContinuedLine":false},{"LineNumber":74,"Hits":48,"StartColumnNumbers":4,"EndColumnNumbers":45,"ContinuedLine":false},{"LineNumber":76,"Hits":48,"StartColumnNumbers":4,"EndColumnNumbers":25,"ContinuedLine":false},{"LineNumber":77,"Hits":0,"StartColumnNumbers":8,"EndColumnNumbers":67,"ContinuedLine":false},{"LineNumber":78,"Hits":0,"StartColumnNumbers":12,"EndColumnNumbers":48,"ContinuedLine":true},{"LineNumber":79,"Hits":0,"StartColumnNumbers":8,"EndColumnNumbers":54,"ContinuedLine":false},{"LineNumber":80,"Hits":0,"StartColumnNumbers":13,"EndColumnNumbers":22,"ContinuedLine":true},{"LineNumber":81,"Hits":0,"StartColumnNumbers":8,"EndColumnNumbers":25,"ContinuedLine":false},{"LineNumber":83,"Hits":48,"StartColumnNumbers":4,"EndColumnNumbers":26,"ContinuedLine":false},{"LineNumber":84,"Hits":0,"StartColumnNumbers":8,"EndColumnNumbers":63,"ContinuedLine":false},{"LineNumber":85,"Hits":0,"StartColumnNumbers":12,"EndColumnNumbers":61,"ContinuedLine":true},{"LineNumber":86,"Hits":0,"StartColumnNumbers":12,"EndColumnNumbers":37,"ContinuedLine":true},{"LineNumber":87,"Hits":0,"StartColumnNumbers":8,"EndColumnNumbers":54,"ContinuedLine":false},{"LineNumber":88,"Hits":0,"StartColumnNumbers":13,"EndColumnNumbers":22,"ContinuedLine":true},{"LineNumber":89,"Hits":0,"StartColumnNumbers":8,"EndColumnNumbers":25,"ContinuedLine":false},{"LineNumber":92,"Hits":48,"StartColumnNumbers":4,"EndColumnNumbers":30,"ContinuedLine":false},{"LineNumber":93,"Hits":1,"StartColumnNumbers":8,"EndColumnNumbers":73,"ContinuedLine":false},{"LineNumber":94,"Hits":1,"StartColumnNumbers":8,"EndColumnNumbers":22,"ContinuedLine":false},{"LineNumber":95,"Hits":1,"StartColumnNumbers":8,"EndColumnNumbers":15,"ContinuedLine":false},{"LineNumber":98,"Hits":47,"StartColumnNumbers":4,"EndColumnNumbers":29,"ContinuedLine":false},{"LineNumber":99,"Hits":26,"StartColumnNumbers":8,"EndColumnNumbers":24,"ContinuedLine":false},{"LineNumber":101,"Hits":21,"StartColumnNumbers":8,"EndColumnNumbers":23,"ContinuedLine":false},{"LineNumber":104,"Hits":47,"StartColumnNumbers":4,"EndColumnNumbers":49,"ContinuedLine":false},{"LineNumber":105,"Hits":48,"StartColumnNumbers":8,"EndColumnNumbers":41,"ContinuedLine":false},{"LineNumber":106,"Hits":48,"StartColumnNumbers":8,"EndColumnNumbers":30,"ContinuedLine":false},{"LineNumber":107,"Hits":1,"StartColumnNumbers":12,"EndColumnNumbers":26,"ContinuedLine":false},{"LineNumber":109,"Hits":48,"StartColumnNumbers":8,"EndColumnNumbers":37,"ContinuedLine":false},{"LineNumber":110,"Hits":48,"StartColumnNumbers":8,"EndColumnNumbers":18,"ContinuedLine":false},{"LineNumber":111,"Hits":21,"StartColumnNumbers":12,"EndColumnNumbers":54,"ContinuedLine":false},{"LineNumber":113,"Hits":27,"StartColumnNumbers":12,"EndColumnNumbers":54,"ContinuedLine":false},{"LineNumber":115,"Hits":48,"StartColumnNumbers":8,"EndColumnNumbers":11,"ContinuedLine":false},{"LineNumber":116,"Hits":48,"StartColumnNumbers":12,"EndColumnNumbers":63,"ContinuedLine":false},{"LineNumber":117,"Hits":7,"StartColumnNumbers":8,"EndColumnNumbers":13,"ContinuedLine":false},{"LineNumber":118,"Hits":7,"StartColumnNumbers":12,"EndColumnNumbers":57,"ContinuedLine":false},{"LineNumber":121,"Hits":47,"StartColumnNumbers":4,"EndColumnNumbers":18,"ContinuedLine":false}]}}