var sourceData7 = {"FileName":"/Users/asimms/Desktop/Programming/mhkit_matlab_simms_dev/MHKiT-MATLAB-2/mhkit/dolfyn/io/read_netcdf.m","RawFileContents":["function ds = read_netcdf(filename)","%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%","%     Read NetCDF data structure.","%","% Parameters","% ------------","%     filename: string","%         Filename of NetCDF file to read.","%","% Returns","% ---------","%     ds: structure","%         Structure from the binary instrument data","%","%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%","","    % check to see if the filename input is a string","    if ~ischar(filename)","        ME = MException('MATLAB:read_netcdf',['filename must be a ' ...","            'character string']);","        throw(ME);","    end","","    % check to see if the file exists","    if ~isfile(filename)","        ME = MException('MATLAB:read_netcdf','file does not exist');","        throw(ME);","    end","","    if isMATLABReleaseOlderThan(\"R2021b\") || endsWith(filename, \".h5\")","        ds = read_h5(filename);","        return","    end","","    ds = struct();","","    % Get NetCDF info to populate the variable names","    info = ncinfo(filename);","","    % Start with collecting the coords names","    dim_size = numel(info.Dimensions);","    coords = cell(dim_size,1);","    for qq = 1:dim_size","        name = info.Dimensions(qq).Name;","        coords{qq} = name;","    end","","    % Loop through the variables once to get the coords","    var_size = numel(info.Variables);","    for qq = 1:var_size","        name = info.Variables(qq).Name;","        dimensions = info.Variables(qq).Dimensions;","        dtype = info.Variables(qq).Datatype;","        if any(strcmp(name,coords))","            % variable is a coordinate","            if strcmp(dtype, 'string')","                % if its a string then we read a string array","                ds.coords.(name) = ...","                    convertStringsToChars(ncread(filename,name));","            else","                if strcmpi(dimensions.Name, 'x*')","                    ds.coords.x_star = ncread(filename,name);","                else","                    ds.coords.(name) = ncread(filename,name);","                end","            end","            if numel(fieldnames(ds.coords)) == dim_size","                break","            end","        end","    end","","    % Loop through the variables again to get the remaining data","    for qq = 1:var_size","        name = info.Variables(qq).Name;","        dimensions = info.Variables(qq).Dimensions;","        sz = info.Variables(qq).Size;","        attrs = info.Variables(qq).Attributes;","        if ~any(strcmp(name,coords))","            % variable goes in the main structure field","            if numel(sz) == 1","                % no modifications needed (the read function does it)","                ds.(name).data = ncread(filename,name);","            elseif numel(sz) == 2","                if contains(name, 'orientmat') || ...","                        contains(name,'inst2head_rotmat')","                    % no modifications needed","                    ds.(name).data = ncread(filename,name);","                else","                    % Need to reshape the data","                    temp_dat = ncread(filename,name);","                    tmp_shape = size(temp_dat);","                    tmp_shape = [tmp_shape(1),1,tmp_shape(2)];","                    temp_dat = reshape(temp_dat,tmp_shape);","                    ds.(name).data = temp_dat;","                end","            else","                % Need to reshape the data","                temp_dat = ncread(filename,name);","                tmp_shape = size(temp_dat);","                tmp_shape = [tmp_shape(1),1,tmp_shape(2:3)];","                temp_dat = reshape(temp_dat,tmp_shape);","                ds.(name).data = temp_dat;","            end","            ds.(name).dims = cell(numel(dimensions),1);","            for kk = 1:numel(dimensions)","                if strcmpi(dimensions(kk).Name, 'x*')","                    ds.(name).dims{kk} = 'x_star';","                else","                    ds.(name).dims{kk} = dimensions(kk).Name;","                end","                ds.(name).coords.(dimensions(kk).Name) = ...","                    ds.coords.(dimensions(kk).Name);","            end","            if ~isempty(attrs)","                for ii = 1:numel(attrs)","                    if strcmpi(attrs(ii).Name,'units')","                        ds.(name).units = attrs(ii).Value;","                    end","                end","            end","        end","    end","","    % Finally grab the attributes","    for qq = 1:numel(info.Attributes)","        name = info.Attributes(qq).Name;","        value = info.Attributes(qq).Value;","        ds.attrs.(name) = value;","    end","","    % Corrections","    if isfield(ds.attrs,'rotate_vars')","        ds.attrs.rotate_vars = cellstr(ds.attrs.rotate_vars);","    end","    if isfield(ds, 'orientation_down')","        ds.orientation_down.data = logical(ds.orientation_down.data);","    end","","    ds.coord_sys = ds.attrs.coord_sys;","    ds.time = ds.coords.time;","","end","",""],"CoverageDisplayDataPerLine":{"Function":{"LineNumber":1,"Hits":99,"StartColumnNumbers":0,"EndColumnNumbers":35,"ContinuedLine":false},"Statement":[{"LineNumber":18,"Hits":99,"StartColumnNumbers":4,"EndColumnNumbers":24,"ContinuedLine":false},{"LineNumber":19,"Hits":0,"StartColumnNumbers":8,"EndColumnNumbers":67,"ContinuedLine":false},{"LineNumber":20,"Hits":0,"StartColumnNumbers":12,"EndColumnNumbers":33,"ContinuedLine":true},{"LineNumber":21,"Hits":0,"StartColumnNumbers":8,"EndColumnNumbers":18,"ContinuedLine":false},{"LineNumber":25,"Hits":99,"StartColumnNumbers":4,"EndColumnNumbers":24,"ContinuedLine":false},{"LineNumber":26,"Hits":0,"StartColumnNumbers":8,"EndColumnNumbers":68,"ContinuedLine":false},{"LineNumber":27,"Hits":0,"StartColumnNumbers":8,"EndColumnNumbers":18,"ContinuedLine":false},{"LineNumber":30,"Hits":99,"StartColumnNumbers":4,"EndColumnNumbers":70,"ContinuedLine":false},{"LineNumber":31,"Hits":0,"StartColumnNumbers":8,"EndColumnNumbers":31,"ContinuedLine":false},{"LineNumber":32,"Hits":0,"StartColumnNumbers":8,"EndColumnNumbers":15,"ContinuedLine":false},{"LineNumber":35,"Hits":99,"StartColumnNumbers":4,"EndColumnNumbers":18,"ContinuedLine":false},{"LineNumber":38,"Hits":99,"StartColumnNumbers":4,"EndColumnNumbers":28,"ContinuedLine":false},{"LineNumber":41,"Hits":99,"StartColumnNumbers":4,"EndColumnNumbers":38,"ContinuedLine":false},{"LineNumber":42,"Hits":99,"StartColumnNumbers":4,"EndColumnNumbers":30,"ContinuedLine":false},{"LineNumber":43,"Hits":99,"StartColumnNumbers":4,"EndColumnNumbers":23,"ContinuedLine":false},{"LineNumber":44,"Hits":877,"StartColumnNumbers":8,"EndColumnNumbers":40,"ContinuedLine":false},{"LineNumber":45,"Hits":877,"StartColumnNumbers":8,"EndColumnNumbers":26,"ContinuedLine":false},{"LineNumber":49,"Hits":99,"StartColumnNumbers":4,"EndColumnNumbers":37,"ContinuedLine":false},{"LineNumber":50,"Hits":99,"StartColumnNumbers":4,"EndColumnNumbers":23,"ContinuedLine":false},{"LineNumber":51,"Hits":877,"StartColumnNumbers":8,"EndColumnNumbers":39,"ContinuedLine":false},{"LineNumber":52,"Hits":877,"StartColumnNumbers":8,"EndColumnNumbers":51,"ContinuedLine":false},{"LineNumber":53,"Hits":877,"StartColumnNumbers":8,"EndColumnNumbers":44,"ContinuedLine":false},{"LineNumber":54,"Hits":877,"StartColumnNumbers":8,"EndColumnNumbers":35,"ContinuedLine":false},{"LineNumber":56,"Hits":877,"StartColumnNumbers":12,"EndColumnNumbers":38,"ContinuedLine":false},{"LineNumber":58,"Hits":324,"StartColumnNumbers":16,"EndColumnNumbers":34,"ContinuedLine":false},{"LineNumber":59,"Hits":324,"StartColumnNumbers":20,"EndColumnNumbers":65,"ContinuedLine":true},{"LineNumber":61,"Hits":553,"StartColumnNumbers":16,"EndColumnNumbers":49,"ContinuedLine":false},{"LineNumber":62,"Hits":0,"StartColumnNumbers":20,"EndColumnNumbers":61,"ContinuedLine":false},{"LineNumber":64,"Hits":553,"StartColumnNumbers":20,"EndColumnNumbers":61,"ContinuedLine":false},{"LineNumber":67,"Hits":877,"StartColumnNumbers":12,"EndColumnNumbers":55,"ContinuedLine":false},{"LineNumber":68,"Hits":99,"StartColumnNumbers":16,"EndColumnNumbers":22,"ContinuedLine":false},{"LineNumber":74,"Hits":99,"StartColumnNumbers":4,"EndColumnNumbers":23,"ContinuedLine":false},{"LineNumber":75,"Hits":3518,"StartColumnNumbers":8,"EndColumnNumbers":39,"ContinuedLine":false},{"LineNumber":76,"Hits":3518,"StartColumnNumbers":8,"EndColumnNumbers":51,"ContinuedLine":false},{"LineNumber":77,"Hits":3518,"StartColumnNumbers":8,"EndColumnNumbers":37,"ContinuedLine":false},{"LineNumber":78,"Hits":3518,"StartColumnNumbers":8,"EndColumnNumbers":46,"ContinuedLine":false},{"LineNumber":79,"Hits":3518,"StartColumnNumbers":8,"EndColumnNumbers":36,"ContinuedLine":false},{"LineNumber":81,"Hits":2641,"StartColumnNumbers":12,"EndColumnNumbers":29,"ContinuedLine":false},{"LineNumber":83,"Hits":1659,"StartColumnNumbers":16,"EndColumnNumbers":55,"ContinuedLine":false},{"LineNumber":84,"Hits":982,"StartColumnNumbers":12,"EndColumnNumbers":33,"ContinuedLine":false},{"LineNumber":85,"Hits":653,"StartColumnNumbers":16,"EndColumnNumbers":48,"ContinuedLine":false},{"LineNumber":86,"Hits":653,"StartColumnNumbers":24,"EndColumnNumbers":57,"ContinuedLine":true},{"LineNumber":88,"Hits":114,"StartColumnNumbers":20,"EndColumnNumbers":59,"ContinuedLine":false},{"LineNumber":91,"Hits":539,"StartColumnNumbers":20,"EndColumnNumbers":53,"ContinuedLine":false},{"LineNumber":92,"Hits":539,"StartColumnNumbers":20,"EndColumnNumbers":47,"ContinuedLine":false},{"LineNumber":93,"Hits":539,"StartColumnNumbers":20,"EndColumnNumbers":62,"ContinuedLine":false},{"LineNumber":94,"Hits":539,"StartColumnNumbers":20,"EndColumnNumbers":59,"ContinuedLine":false},{"LineNumber":95,"Hits":539,"StartColumnNumbers":20,"EndColumnNumbers":46,"ContinuedLine":false},{"LineNumber":99,"Hits":329,"StartColumnNumbers":16,"EndColumnNumbers":49,"ContinuedLine":false},{"LineNumber":100,"Hits":329,"StartColumnNumbers":16,"EndColumnNumbers":43,"ContinuedLine":false},{"LineNumber":101,"Hits":329,"StartColumnNumbers":16,"EndColumnNumbers":60,"ContinuedLine":false},{"LineNumber":102,"Hits":329,"StartColumnNumbers":16,"EndColumnNumbers":55,"ContinuedLine":false},{"LineNumber":103,"Hits":329,"StartColumnNumbers":16,"EndColumnNumbers":42,"ContinuedLine":false},{"LineNumber":105,"Hits":2641,"StartColumnNumbers":12,"EndColumnNumbers":55,"ContinuedLine":false},{"LineNumber":106,"Hits":2641,"StartColumnNumbers":12,"EndColumnNumbers":40,"ContinuedLine":false},{"LineNumber":107,"Hits":3952,"StartColumnNumbers":16,"EndColumnNumbers":53,"ContinuedLine":false},{"LineNumber":108,"Hits":0,"StartColumnNumbers":20,"EndColumnNumbers":50,"ContinuedLine":false},{"LineNumber":110,"Hits":3952,"StartColumnNumbers":20,"EndColumnNumbers":61,"ContinuedLine":false},{"LineNumber":112,"Hits":3952,"StartColumnNumbers":16,"EndColumnNumbers":56,"ContinuedLine":false},{"LineNumber":113,"Hits":3952,"StartColumnNumbers":20,"EndColumnNumbers":52,"ContinuedLine":true},{"LineNumber":115,"Hits":2641,"StartColumnNumbers":12,"EndColumnNumbers":30,"ContinuedLine":false},{"LineNumber":116,"Hits":2641,"StartColumnNumbers":16,"EndColumnNumbers":39,"ContinuedLine":false},{"LineNumber":117,"Hits":5282,"StartColumnNumbers":20,"EndColumnNumbers":54,"ContinuedLine":false},{"LineNumber":118,"Hits":2641,"StartColumnNumbers":24,"EndColumnNumbers":58,"ContinuedLine":false},{"LineNumber":126,"Hits":99,"StartColumnNumbers":4,"EndColumnNumbers":37,"ContinuedLine":false},{"LineNumber":127,"Hits":2859,"StartColumnNumbers":8,"EndColumnNumbers":40,"ContinuedLine":false},{"LineNumber":128,"Hits":2859,"StartColumnNumbers":8,"EndColumnNumbers":42,"ContinuedLine":false},{"LineNumber":129,"Hits":2859,"StartColumnNumbers":8,"EndColumnNumbers":32,"ContinuedLine":false},{"LineNumber":133,"Hits":99,"StartColumnNumbers":4,"EndColumnNumbers":38,"ContinuedLine":false},{"LineNumber":134,"Hits":99,"StartColumnNumbers":8,"EndColumnNumbers":61,"ContinuedLine":false},{"LineNumber":136,"Hits":99,"StartColumnNumbers":4,"EndColumnNumbers":38,"ContinuedLine":false},{"LineNumber":137,"Hits":32,"StartColumnNumbers":8,"EndColumnNumbers":69,"ContinuedLine":false},{"LineNumber":140,"Hits":99,"StartColumnNumbers":4,"EndColumnNumbers":38,"ContinuedLine":false},{"LineNumber":141,"Hits":99,"StartColumnNumbers":4,"EndColumnNumbers":29,"ContinuedLine":false}]}}