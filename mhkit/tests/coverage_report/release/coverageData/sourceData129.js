var sourceData129 = {"FileName":"/Users/asimms/Desktop/Programming/mhkit_matlab_simms_dev/MHKiT-MATLAB-2/mhkit/utils/read_nc_file_var.m","RawFileContents":["function ds = read_nc_file_var(filename,vnms,opt_out)","","%%%%%%%%%%%%%%%%%%%%","%     Read NetCDF data structure.","%","% Parameters","% ------------","%     filename: string","%         Filename of NetCDF file to read.","%","%     vnms: cell array of characters","%         variable names to read.","%         if the variable is in a group, make sure to include group name,","%         i.e., {'GROUP_NAME1/VAR_NAME1','GROUP_NAME2/VAR_NAME2',...}","%","%     opt_out: 0 will output as structure, ds.(vname) & ds.attrs.","%              1 will output as structure array, ds(N).","%","%   Note 1. Variables in root group ('/') can be extracted","%    directly by 'VARNAME'.","%   Note 2. To find the group info of a variable, other than reading","%    the provided user manual of the corresponding NetCDF data product,","%    one can use ncdisp(filename) in MATLAB which shows variable info","%    for all groups and subgroups.","%   An example ncdisp(filename.nc) output can be:","%   ...","%       /GrpName/SubGrpName/","%       Variables:","%           ...","%           VAR_I_Need","%               Size: ...","%               Dimensions: ...","%               ...","%   To get VAR_I_Need from filename.nc, one can run this function as:","%","%    ds = read_nc_file_var('filename.nc',...","%           {'/GrpName/SubGrpName/VAR_I_Need',...","%           '/GrpName/SubGrpName/Another_VAR_I_Need'},...","%           opt_out=0);","%   to get a struct.","%","%    OR:","%    ds = read_nc_file_var('filename.nc',...","%           {'/GrpName/SubGrpName/VAR_I_Need',...","%           '/GrpName/SubGrpName/Another_VAR_I_Need'},...","%           opt_out=1);","%   to get a struct array.","%","%   Note 3. If needs to read all variables within a Group, one can use ncinfo():","%","%    ginfo = ncinfo('filename.nc','/GrpName/SubGrpName/');","%    vnms = {ginfo.Variables.Name};","%    vnms = strcat('GrpName/SubGrpName/',vnms);","%    ds = read_nc_file_var('filename.nc',vnms,opt_out=0);%struct","%    %ds = read_nc_file_var('filename.nc',vnms,opt_out=1);%struct array","%","% Returns","% ------------","%     ds: structure or structure array","%       1. structure that has fields:","%          1.1 variable names from nc file","%       e.g., res.(varname1), res.(varname2), ...","%       res.(varname) includes fields:","%           res.(varname).Name: full name of the variable","%           res.(varname).FillValue: V.FillValue or","%               V.Attributes{'_FillValue'} if","%               the former is not given.","%           res.(varname).Data: metadata","%           res.(varname).Dims: dimension names","%           res.(varname).Attrs: V.Attributes except for","%               V.Attributes{'_FillValue'}","%           1.2 global attributes from nc file","%","%       2. struct array, and each struct has the same fields as","%       res.(varname) stated above.","%","%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%","","    % precheck:","    nc_file_precheck(filename);","","    finfo = ncinfo(filename);","    % if want a struct array as output","    if opt_out ==1","        % Use data struct array to hold:","        N = numel(vnms);","        ds(N)=struct('Name',[],'Data',[], ...","            'Dims',[],'FillValue',[],'Attrs',[]);","        % loop through variable names (vnms) to read data and attributes","        for ivar=1:numel(vnms)","            name = vnms{ivar};","            vinfo = ncinfo(filename,name);","            ds(ivar).Name = vinfo.Name;","            if isstring(vinfo.FillValue)","                ds(ivar).FillValue = str2double(vinfo.FillValue);","            else","                ds(ivar).FillValue = vinfo.FillValue;","            end","            ds(ivar).Data = ncread(filename, name);","            ds(ivar).Attrs = vinfo.Attributes;","            if ~isempty(vinfo.Dimensions)","                ds(ivar).Dims = {vinfo.Dimensions.Name};","            end","        end","        return","    end","    % if want a struct","    ds = struct();","    % loop through variable names (vnms) to read data and attributes","    for ivar=1:numel(vnms)","        name = vnms{ivar};","        vinfo = ncinfo(filename,name);","        ds = nc_get_var_info(filename,vinfo,name,ds);","    end","    % assign global attributes of the file","    if ~isempty(finfo.Attributes)","        attrnames = {finfo.Attributes.Name};","        for iattr = 1:numel(attrnames)","            aname = attrnames{iattr};","            aname = check_name(aname);","            ds.attrs.(aname) = finfo.Attributes(iattr).Value;","        end","    end","end","",""],"CoverageDisplayDataPerLine":{"Function":{"LineNumber":1,"Hits":12,"StartColumnNumbers":0,"EndColumnNumbers":53,"ContinuedLine":false},"Statement":[{"LineNumber":80,"Hits":12,"StartColumnNumbers":4,"EndColumnNumbers":31,"ContinuedLine":false},{"LineNumber":82,"Hits":12,"StartColumnNumbers":4,"EndColumnNumbers":29,"ContinuedLine":false},{"LineNumber":84,"Hits":12,"StartColumnNumbers":4,"EndColumnNumbers":18,"ContinuedLine":false},{"LineNumber":86,"Hits":6,"StartColumnNumbers":8,"EndColumnNumbers":24,"ContinuedLine":false},{"LineNumber":87,"Hits":6,"StartColumnNumbers":8,"EndColumnNumbers":40,"ContinuedLine":false},{"LineNumber":88,"Hits":6,"StartColumnNumbers":12,"EndColumnNumbers":49,"ContinuedLine":true},{"LineNumber":90,"Hits":6,"StartColumnNumbers":8,"EndColumnNumbers":30,"ContinuedLine":false},{"LineNumber":91,"Hits":216,"StartColumnNumbers":12,"EndColumnNumbers":30,"ContinuedLine":false},{"LineNumber":92,"Hits":216,"StartColumnNumbers":12,"EndColumnNumbers":42,"ContinuedLine":false},{"LineNumber":93,"Hits":216,"StartColumnNumbers":12,"EndColumnNumbers":39,"ContinuedLine":false},{"LineNumber":94,"Hits":216,"StartColumnNumbers":12,"EndColumnNumbers":40,"ContinuedLine":false},{"LineNumber":95,"Hits":13,"StartColumnNumbers":16,"EndColumnNumbers":65,"ContinuedLine":false},{"LineNumber":97,"Hits":203,"StartColumnNumbers":16,"EndColumnNumbers":53,"ContinuedLine":false},{"LineNumber":99,"Hits":216,"StartColumnNumbers":12,"EndColumnNumbers":51,"ContinuedLine":false},{"LineNumber":100,"Hits":216,"StartColumnNumbers":12,"EndColumnNumbers":46,"ContinuedLine":false},{"LineNumber":101,"Hits":216,"StartColumnNumbers":12,"EndColumnNumbers":41,"ContinuedLine":false},{"LineNumber":102,"Hits":212,"StartColumnNumbers":16,"EndColumnNumbers":56,"ContinuedLine":false},{"LineNumber":105,"Hits":6,"StartColumnNumbers":8,"EndColumnNumbers":15,"ContinuedLine":false},{"LineNumber":108,"Hits":6,"StartColumnNumbers":4,"EndColumnNumbers":18,"ContinuedLine":false},{"LineNumber":110,"Hits":6,"StartColumnNumbers":4,"EndColumnNumbers":26,"ContinuedLine":false},{"LineNumber":111,"Hits":216,"StartColumnNumbers":8,"EndColumnNumbers":26,"ContinuedLine":false},{"LineNumber":112,"Hits":216,"StartColumnNumbers":8,"EndColumnNumbers":38,"ContinuedLine":false},{"LineNumber":113,"Hits":216,"StartColumnNumbers":8,"EndColumnNumbers":53,"ContinuedLine":false},{"LineNumber":116,"Hits":6,"StartColumnNumbers":4,"EndColumnNumbers":33,"ContinuedLine":false},{"LineNumber":117,"Hits":6,"StartColumnNumbers":8,"EndColumnNumbers":44,"ContinuedLine":false},{"LineNumber":118,"Hits":6,"StartColumnNumbers":8,"EndColumnNumbers":38,"ContinuedLine":false},{"LineNumber":119,"Hits":259,"StartColumnNumbers":12,"EndColumnNumbers":37,"ContinuedLine":false},{"LineNumber":120,"Hits":259,"StartColumnNumbers":12,"EndColumnNumbers":38,"ContinuedLine":false},{"LineNumber":121,"Hits":259,"StartColumnNumbers":12,"EndColumnNumbers":61,"ContinuedLine":false}]}}