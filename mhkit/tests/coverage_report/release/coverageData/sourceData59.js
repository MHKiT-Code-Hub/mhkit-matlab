var sourceData59 = {"FileName":"/Users/asimms/Desktop/Programming/mhkit_matlab_simms_dev/MHKiT-MATLAB-2/mhkit/power/quality/harmonics.m","RawFileContents":["function harmonics=harmonics(x,freq,grid_freq)","","%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%","%   Calculates the harmonics from time series of voltage or current based on IEC 61000-4-7.","%","% Parameters","% -----------","%     x: structure with x.time and x.current or x.voltage as values","%         Time-series of voltage [V] or current [A]","%","%     freq: double","%         Frequency of the time-series data [Hz]","%","%     grid_freq: int","%         Value indicating if the power supply is 50 or 60 Hz. Options = 50 or 60","%","% Returns","% -------","%     harmonics: structure","%         harmonic amplitude and frequency of the time-series data","%","%","%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%","","py.importlib.import_module('mhkit');","% py.importlib.import_module('numpy');","py.importlib.import_module('mhkit_python_utils');","","time= x.time ;","","if isfield(x, 'current')","    data = x.current;","    dname = 'current';","elseif isfield(x,'voltage')","    data = x.voltage;","    dname = 'voltage';","else","    ME = MException('MATLAB:harmonics','invalid handles in structure, must contain x.current or x.voltage');","        throw(ME);","end","","dsize=size(data);","","li=py.list();","if dsize(2)>1","   for i = 1:dsize(2)","      app=py.list(data(:,i));","      li=py.mhkit_python_utils.pandas_dataframe.lis(li,app);","","   end","   data_pd=py.mhkit_python_utils.pandas_dataframe.spectra_to_pandas(time(:,1),li,int32(dsize(2)));","elseif dsize(2)==1","   data_pd=py.mhkit_python_utils.pandas_dataframe.spectra_to_pandas(time,py.numpy.array(data),dsize(2));","end","","harmonics_pd = py.mhkit.power.quality.harmonics(data_pd,freq,grid_freq);","","vals=double(py.array.array('d',py.numpy.nditer(harmonics_pd.values)));","sha=cell(harmonics_pd.values.shape);","x=int64(sha{1,1});","y=int64(sha{1,2});","vals=reshape(vals,[x,y]);","","","","harmonics.amplitude=vals;","harmonics.harmonic = double(py.array.array('d',py.numpy.nditer(harmonics_pd.index)));","harmonics.type = dname;","","",""],"CoverageDisplayDataPerLine":{"Function":{"LineNumber":1,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":46,"ContinuedLine":false},"Statement":[{"LineNumber":25,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":36,"ContinuedLine":false},{"LineNumber":27,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":49,"ContinuedLine":false},{"LineNumber":29,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":14,"ContinuedLine":false},{"LineNumber":31,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":24,"ContinuedLine":false},{"LineNumber":32,"Hits":1,"StartColumnNumbers":4,"EndColumnNumbers":21,"ContinuedLine":false},{"LineNumber":33,"Hits":1,"StartColumnNumbers":4,"EndColumnNumbers":22,"ContinuedLine":false},{"LineNumber":34,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":27,"ContinuedLine":false},{"LineNumber":35,"Hits":0,"StartColumnNumbers":4,"EndColumnNumbers":21,"ContinuedLine":false},{"LineNumber":36,"Hits":0,"StartColumnNumbers":4,"EndColumnNumbers":22,"ContinuedLine":false},{"LineNumber":38,"Hits":0,"StartColumnNumbers":4,"EndColumnNumbers":108,"ContinuedLine":false},{"LineNumber":39,"Hits":0,"StartColumnNumbers":8,"EndColumnNumbers":18,"ContinuedLine":false},{"LineNumber":42,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":17,"ContinuedLine":false},{"LineNumber":44,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":13,"ContinuedLine":false},{"LineNumber":45,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":13,"ContinuedLine":false},{"LineNumber":46,"Hits":0,"StartColumnNumbers":3,"EndColumnNumbers":21,"ContinuedLine":false},{"LineNumber":47,"Hits":0,"StartColumnNumbers":6,"EndColumnNumbers":29,"ContinuedLine":false},{"LineNumber":48,"Hits":0,"StartColumnNumbers":6,"EndColumnNumbers":60,"ContinuedLine":false},{"LineNumber":51,"Hits":0,"StartColumnNumbers":3,"EndColumnNumbers":98,"ContinuedLine":false},{"LineNumber":52,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":18,"ContinuedLine":false},{"LineNumber":53,"Hits":1,"StartColumnNumbers":3,"EndColumnNumbers":104,"ContinuedLine":false},{"LineNumber":56,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":72,"ContinuedLine":false},{"LineNumber":58,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":70,"ContinuedLine":false},{"LineNumber":59,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":36,"ContinuedLine":false},{"LineNumber":60,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":18,"ContinuedLine":false},{"LineNumber":61,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":18,"ContinuedLine":false},{"LineNumber":62,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":25,"ContinuedLine":false},{"LineNumber":66,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":25,"ContinuedLine":false},{"LineNumber":67,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":85,"ContinuedLine":false},{"LineNumber":68,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":23,"ContinuedLine":false}]}}