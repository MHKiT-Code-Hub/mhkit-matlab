var sourceData113 = {"FileName":"/Users/asimms/Desktop/Programming/mhkit_matlab_simms_dev/MHKiT-MATLAB-2/mhkit/tidal/graphics/plot_rose.m","RawFileContents":["function figure=plot_rose(data, width_dir, width_vel, ...","                                        options)","","%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%","%       Creates a polar histogram. Direction angles from binned histogram must","%       be specified such that 0  degrees is north.","%","% Parameters","% ------------","%    data: structure","%","%      data.time: vector","%       days from January 0, 0000 in the proleptic ISO calendar","%","%      data.d: vector","%       time-series of directions [degrees]","%","%      data.s: vector","%       time-series of speeds [cm/s]","%","%    width_dir: float","%        Width of directional bins for histogram in degrees","%","%    width_vel: float","%        Width of velocity bins for histogram in m/s","%","%    flood_ebb: 2 element vector (optional)","%        Direction in degrees added to theta ticks","%        to call: plot_rose(Q, width_dir, width_vel,\"flood_ebb\",flood_ebb)","%","%    title: string (optional)","%        title for the plot","%        to call: plot_rose(Q, width_dir, width_vel,\"title\",title)","%","%    savepath: string (optional)","%        path and filename to save figure.","%        to call: plot_rose(Q, width_dir, width_vel,\"savepath\",savepath)","%","%","% Returns","% ---------","%   figure handle to water current rose plot","%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%","","arguments","    data","    width_dir","    width_vel","    options.title = \"\";","    options.savepath = \"\";","    options.flood_ebb = [];","end","","% checking input variables","% if nargin > 5","%     ME = MException('MATLAB:plot_rose','Incorrect number of input arguments, too many agruments, requires 5 at most, %d arguments passed',nargin);","%     throw(ME);","% end;","","%check to see if the first input argumeent is a structure","if any(~isstruct(data))","    ME = MException('MATLAB:plot_rose','data must be a structure');","    throw(ME);","end","","%check to see if the second input argumeent is a number","if any([~isnumeric(width_dir), length(width_dir) ~= 1])","    ME = MException('MATLAB:plot_rose','width_dir must be a number');","    throw(ME);","end","","%check to see if the second input argumeent is a number","if any([~isnumeric(width_vel), length(width_vel) ~= 1])","    ME = MException('MATLAB:plot_rose','width_vel must be a number');","    throw(ME);","end","","% Parsing out the variable arguments","% if nargin >= 4","%     for indx = 4:1:nargin","%         if (ischar(varargin{indx-3}) | isstring(varargin{indx-3}))","%             titleText = varargin{indx-3};","%         elseif isnumeric(varargin{indx-3})","%             if length(varargin{indx-3}) ==2","%                 flood_ebb = varargin{indx-3};","%             end;","%         end;","%     end;","% end;","","% Plot Variables","radialLabelDir = 30;","propRingRad    = 5;","CMaPType = 'spring';","","% Calculating the 2D histogram","DirEdges = 0:width_dir:360;","VelEdges = 0:width_vel:max(data.s);","","% converting degrees to radians","theta = data.d/180*pi;","","% setting the colors","cmap = colormap(CMaPType);","colors = interp1(linspace(0,max(data.s),length(cmap)),cmap,VelEdges);","","%tx = Q.s'<Yedges(end)","","figure = polarhistogram(theta(data.s<VelEdges(end)),DirEdges/180*pi,'FaceColor',colors(end,:), ...","        'displayname',[num2str(VelEdges(end-1)) ' - ' num2str(VelEdges(end)) 'm/s']);","hold on","for idx = length(VelEdges)-1:-1:2","    polarhistogram(theta(data.s<VelEdges(idx)),DirEdges/180*pi,'FaceColor',colors(idx,:), ...","            'displayname',[num2str(VelEdges(idx-1)) ' - ' num2str(VelEdges(idx)) '\\itm/s']);","end","","% Adding legend to plot","legend('Show');","","% adding title","title(options.title)","","[N] = histcounts2(data.d,data.s,DirEdges,VelEdges,'Normalization','probability');","%forming the vector with the total probability for each direction bin","dir_prob = sum(N,2)*100;","","% Setup the axes of the polar plot","axinfo = gca;","axinfo.ThetaZeroLocation = 'top';","axinfo.ThetaDir = 'clockwise';","axinfo.ThetaTick = 0:45:360;","axinfo.ThetaTickLabel = {'N','NE','E','SE','S','SW','W','NW'};","","axinfo.RAxisLocation = radialLabelDir;","RadRingLoc = propRingRad:propRingRad:propRingRad*ceil(max(dir_prob)/propRingRad);","axinfo.RTick = RadRingLoc/100*length(data.s);","axinfo.RTickLabel = num2cell(RadRingLoc);","axinfo.FontSize = 20;","","% adding in the flood and ebb directions if they are included","","if length(options.flood_ebb) == 2","    % adding in the radial lines for the ebb and flood","    polarplot([1,1]*options.flood_ebb(1)/180*pi,[0,max(RadRingLoc/100)*length(data.s)],'linewidth',2,'color','r','displayname','Flood Direction');","    text(options.flood_ebb(1)/180*pi,max(RadRingLoc/100)*length(data.s),'Flood','fontsize',15,'HorizontalAlignment','Center','BackGroundColor','w');","    polarplot([1,1]*options.flood_ebb(2)/180*pi,[0,max(RadRingLoc/100)*length(data.s)],'linewidth',2,'color','b','displayname','Ebb Direction');","    text( options.flood_ebb(2)/180*pi,max(RadRingLoc/100)*length(data.s),'Ebb','fontsize',15,'HorizontalAlignment','Center','BackGroundColor','w');","end","","len = strlength(options.savepath);","if len > 1","    saveas(figure, options.savepath);","end","","hold off","","","% if nargin == 4","%     title(varargin{1})","% end"],"CoverageDisplayDataPerLine":{"Function":[{"LineNumber":1,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":57,"ContinuedLine":false},{"LineNumber":2,"Hits":1,"StartColumnNumbers":40,"EndColumnNumbers":48,"ContinuedLine":true}],"Statement":[{"LineNumber":49,"Hits":1,"StartColumnNumbers":20,"EndColumnNumbers":22,"ContinuedLine":false},{"LineNumber":50,"Hits":0,"StartColumnNumbers":23,"EndColumnNumbers":25,"ContinuedLine":false},{"LineNumber":51,"Hits":1,"StartColumnNumbers":24,"EndColumnNumbers":26,"ContinuedLine":false},{"LineNumber":61,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":23,"ContinuedLine":false},{"LineNumber":62,"Hits":0,"StartColumnNumbers":4,"EndColumnNumbers":67,"ContinuedLine":false},{"LineNumber":63,"Hits":0,"StartColumnNumbers":4,"EndColumnNumbers":14,"ContinuedLine":false},{"LineNumber":67,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":55,"ContinuedLine":false},{"LineNumber":68,"Hits":0,"StartColumnNumbers":4,"EndColumnNumbers":69,"ContinuedLine":false},{"LineNumber":69,"Hits":0,"StartColumnNumbers":4,"EndColumnNumbers":14,"ContinuedLine":false},{"LineNumber":73,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":55,"ContinuedLine":false},{"LineNumber":74,"Hits":0,"StartColumnNumbers":4,"EndColumnNumbers":69,"ContinuedLine":false},{"LineNumber":75,"Hits":0,"StartColumnNumbers":4,"EndColumnNumbers":14,"ContinuedLine":false},{"LineNumber":92,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":20,"ContinuedLine":false},{"LineNumber":93,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":19,"ContinuedLine":false},{"LineNumber":94,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":20,"ContinuedLine":false},{"LineNumber":97,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":27,"ContinuedLine":false},{"LineNumber":98,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":35,"ContinuedLine":false},{"LineNumber":101,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":22,"ContinuedLine":false},{"LineNumber":104,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":26,"ContinuedLine":false},{"LineNumber":105,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":69,"ContinuedLine":false},{"LineNumber":109,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":93,"ContinuedLine":false},{"LineNumber":110,"Hits":1,"StartColumnNumbers":8,"EndColumnNumbers":85,"ContinuedLine":true},{"LineNumber":111,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":8,"ContinuedLine":false},{"LineNumber":112,"Hits":0,"StartColumnNumbers":0,"EndColumnNumbers":33,"ContinuedLine":false},{"LineNumber":113,"Hits":0,"StartColumnNumbers":4,"EndColumnNumbers":88,"ContinuedLine":false},{"LineNumber":114,"Hits":0,"StartColumnNumbers":12,"EndColumnNumbers":92,"ContinuedLine":true},{"LineNumber":118,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":15,"ContinuedLine":false},{"LineNumber":121,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":20,"ContinuedLine":false},{"LineNumber":123,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":81,"ContinuedLine":false},{"LineNumber":125,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":24,"ContinuedLine":false},{"LineNumber":128,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":13,"ContinuedLine":false},{"LineNumber":129,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":33,"ContinuedLine":false},{"LineNumber":130,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":30,"ContinuedLine":false},{"LineNumber":131,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":28,"ContinuedLine":false},{"LineNumber":132,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":62,"ContinuedLine":false},{"LineNumber":134,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":38,"ContinuedLine":false},{"LineNumber":135,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":81,"ContinuedLine":false},{"LineNumber":136,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":45,"ContinuedLine":false},{"LineNumber":137,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":41,"ContinuedLine":false},{"LineNumber":138,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":21,"ContinuedLine":false},{"LineNumber":142,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":33,"ContinuedLine":false},{"LineNumber":144,"Hits":0,"StartColumnNumbers":4,"EndColumnNumbers":146,"ContinuedLine":false},{"LineNumber":145,"Hits":0,"StartColumnNumbers":4,"EndColumnNumbers":148,"ContinuedLine":false},{"LineNumber":146,"Hits":0,"StartColumnNumbers":4,"EndColumnNumbers":144,"ContinuedLine":false},{"LineNumber":147,"Hits":0,"StartColumnNumbers":4,"EndColumnNumbers":147,"ContinuedLine":false},{"LineNumber":150,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":34,"ContinuedLine":false},{"LineNumber":151,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":10,"ContinuedLine":false},{"LineNumber":152,"Hits":1,"StartColumnNumbers":4,"EndColumnNumbers":37,"ContinuedLine":false},{"LineNumber":155,"Hits":1,"StartColumnNumbers":0,"EndColumnNumbers":9,"ContinuedLine":false}]}}